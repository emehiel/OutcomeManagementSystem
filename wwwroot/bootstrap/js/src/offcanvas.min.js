/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/bootstrap@5.0.0-beta3/js/src/offcanvas.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{defineJQueryPlugin,getElementFromSelector,getSelectorFromElement,getTransitionDurationFromElement,isDisabled,isVisible,typeCheckConfig}from"./util/index";import{hide as scrollBarHide,reset as scrollBarReset}from"./util/scrollbar";import Data from"./dom/data";import EventHandler from"./dom/event-handler";import BaseComponent from"./base-component";import SelectorEngine from"./dom/selector-engine";import Manipulator from"./dom/manipulator";const NAME="offcanvas",DATA_KEY="bs.offcanvas",EVENT_KEY="."+DATA_KEY,DATA_API_KEY=".data-api",EVENT_LOAD_DATA_API=`load${EVENT_KEY}.data-api`,ESCAPE_KEY="Escape",Default={backdrop:!0,keyboard:!0,scroll:!1},DefaultType={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},CLASS_NAME_BACKDROP_BODY="offcanvas-backdrop",CLASS_NAME_SHOW="show",CLASS_NAME_TOGGLING="offcanvas-toggling",OPEN_SELECTOR=".offcanvas.show",ACTIVE_SELECTOR=".offcanvas.show, .offcanvas-toggling",EVENT_SHOW="show"+EVENT_KEY,EVENT_SHOWN="shown"+EVENT_KEY,EVENT_HIDE="hide"+EVENT_KEY,EVENT_HIDDEN="hidden"+EVENT_KEY,EVENT_FOCUSIN="focusin"+EVENT_KEY,EVENT_CLICK_DATA_API=`click${EVENT_KEY}.data-api`,EVENT_CLICK_DISMISS="click.dismiss"+EVENT_KEY,SELECTOR_DATA_DISMISS='[data-bs-dismiss="offcanvas"]',SELECTOR_DATA_TOGGLE='[data-bs-toggle="offcanvas"]';class Offcanvas extends BaseComponent{constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=!1,this._addEventListeners()}static get Default(){return Default}static get DATA_KEY(){return DATA_KEY}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(EventHandler.trigger(this._element,EVENT_SHOW,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._config.backdrop&&document.body.classList.add("offcanvas-backdrop"),this._config.scroll||scrollBarHide(),this._element.classList.add(CLASS_NAME_TOGGLING),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show");setTimeout((()=>{this._element.classList.remove(CLASS_NAME_TOGGLING),EventHandler.trigger(this._element,EVENT_SHOWN,{relatedTarget:e}),this._enforceFocusOnElement(this._element)}),getTransitionDurationFromElement(this._element))}hide(){if(!this._isShown)return;if(EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;this._element.classList.add(CLASS_NAME_TOGGLING),EventHandler.off(document,EVENT_FOCUSIN),this._element.blur(),this._isShown=!1,this._element.classList.remove("show");setTimeout((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.backdrop&&document.body.classList.remove("offcanvas-backdrop"),this._config.scroll||scrollBarReset(),EventHandler.trigger(this._element,EVENT_HIDDEN),this._element.classList.remove(CLASS_NAME_TOGGLING)}),getTransitionDurationFromElement(this._element))}_getConfig(e){return e={...Default,...Manipulator.getDataAttributes(this._element),..."object"==typeof e?e:{}},typeCheckConfig(NAME,e,DefaultType),e}_enforceFocusOnElement(e){EventHandler.off(document,EVENT_FOCUSIN),EventHandler.on(document,EVENT_FOCUSIN,(t=>{document===t.target||e===t.target||e.contains(t.target)||e.focus()})),e.focus()}_addEventListeners(){EventHandler.on(this._element,EVENT_CLICK_DISMISS,SELECTOR_DATA_DISMISS,(()=>this.hide())),EventHandler.on(document,"keydown",(e=>{this._config.keyboard&&"Escape"===e.key&&this.hide()})),EventHandler.on(document,EVENT_CLICK_DATA_API,(e=>{const t=SelectorEngine.findOne(getSelectorFromElement(e.target));this._element.contains(e.target)||t===this._element||this.hide()}))}static jQueryInterface(e){return this.each((function(){const t=Data.get(this,DATA_KEY)||new Offcanvas(this,"object"==typeof e?e:{});if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,(function(e){const t=getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),isDisabled(this))return;EventHandler.one(t,EVENT_HIDDEN,(()=>{isVisible(this)&&this.focus()}));const n=SelectorEngine.findOne(ACTIVE_SELECTOR);if(n&&n!==t)return;(Data.get(t,DATA_KEY)||new Offcanvas(t)).toggle(this)})),EventHandler.on(window,EVENT_LOAD_DATA_API,(()=>{SelectorEngine.find(OPEN_SELECTOR).forEach((e=>(Data.get(e,DATA_KEY)||new Offcanvas(e)).show()))})),defineJQueryPlugin(NAME,Offcanvas);export default Offcanvas;
//# sourceMappingURL=/sm/11025a1a2719e7a5dc7dc39d9da271a87bd5ce0ce95e7666342d098aad610397.map